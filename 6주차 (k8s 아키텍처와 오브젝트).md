## Kubernetes
- 컨테이너를 쉽게 관리 할 수 있고 배포/확장을 자동화 해주는 오픈소스 플랫폼

## Kubernetes 아키텍처


<img width="709" height="329" alt="image" src="https://github.com/user-attachments/assets/688118bf-3e37-44c6-86eb-955079dfdb2f" />


### 컨트롤 패널(master) : etcd
- k8s 모든 동작과정 상태 / **로그 데이터 저장**
- kubectl get events를 통한 쿠버네티스 각종  이벤트 확인 가능

### 컨트롤 패널(master) : API 서버
- k8s 관리 / **제어를 위한 REST API 서버**
- 권한 점검 및 제어 / 내부 모듈과의 통신 제어 

### 컨트롤 패널(master) : Scheduler
- 새롭게 생성되는 pod가 어느 서버(Node)에서 실행 될지 결정
- ex) CPU 중심 서버 전용 pod / GPU 중심 서버 전용 pod 

### 컨트롤 패널(master) : Controller
- k83 자동 관리, 상태 유지를 위한 다양한 컨트롤러가 존재
- **지속적인 상태 체크,설정된 상태 유지 작업**

---
### Kubelet : pod(컨테이너) 생성 역할
- **Pod 실행, 종료 역할**
- 전체 서버(node)마다 구동 

### Kube-Proxy : 쿠버네티스 내부 네트워크 처리
- pod, service등 k8s 내부 네트워크 처리
- 네트워크 프록시와 부하 분산 역할

---
## 오브젝트 구성


<img width="1121" height="477" alt="image" src="https://github.com/user-attachments/assets/329ae602-4afa-4324-bcb5-6d808e3c5917" />

### Pod(컨테이너)
- 컨테이너를다루는 단위
- Pod당 고유 IP 주소 할당

### ReplicaSet(복제)
- 복제본 pod 들을 관리하는 단위
- 로드밸런싱이 되고 복제본 개수 상태를 유지 관리

### Deployment(배포)
- ReplicaSet 버전 관리 배포(Roll out) 역할, 롤백(Roll back) 역할
- Docker swarm에서 web-server를 업그레이드 하는 것과 동일 (먼저 업그레이드 버전을 생성하고 -> 정상적으로 설치가되면 하나씩 업그레이드 시키는 것)

### Service : ClusterIP
- Pod들의 네트워크 통합 처리 로드 밸런싱 역할
- Pod 복제본 스케일링 연동
- 클러스터 내부 네트워크 통신처리내부 서비스 연결 DNS 이용 가능  

### Service : NodePort
- 서버(Node) IP 주소 Port 번호 open 외부에서 접속 가능하도록 (포트포워딩같은 것)

### Service : LoadBalancer
- 특정서버 IP 주소만이 아닌 여러 서버(Node)에 접속 가능한 IP 주소로 open

### Ingress
- 도메인, 경로별 라우팅
- ex) /  /home  /pay  /info

### YAML : 오브젝트 구성 spec
- k8s 서버 구축을 위한 세부 object 구성 및 spec 파일

### API 서버 : k83 관리 제어
- k8s 다양한 오브젝트 구성 spec을 kubectl 명령어 도구등을 활용하여 API 서버에게 명령을 YAML 형식으로 전달


<img width="468" height="100" alt="image" src="https://github.com/user-attachments/assets/ef3a0154-368d-46ea-945e-29740ea03d1c" />
