# 도커 네트워크의 구조 

<img width="714" height="498" alt="image" src="https://github.com/user-attachments/assets/faa3a14f-087a-40b5-8ee5-60142d684cb5" />


<img width="558" height="100" alt="image" src="https://github.com/user-attachments/assets/f723f6b5-b4bc-4715-837a-fd53ee135da1" />


### veth 란?
- Pair 가상 네트워크 인터페이스 (두대그이 namespace를 연결)

<img width="344" height="99" alt="image" src="https://github.com/user-attachments/assets/a96ac7e0-b1be-41e3-b2b3-c13fe7060b19" />

## Docker0 브릿지 연결 확인하는 방법
### 브릿지 네트워크 관리 도구 설치
```
sudo apt instlal bridge-utils    
whatis brctl
```

<img width="510" height="34" alt="image" src="https://github.com/user-attachments/assets/79c6097e-a55f-4514-a7da-de82d63822a4" />

---
### 현재 브릿지 네트워크 상태 확인
```
brctl show    
```

<img width="557" height="45" alt="image" src="https://github.com/user-attachments/assets/3232114f-6058-4731-b407-e6c0af3d6219" />


---
### 독립된 리눅스 환경 3개 실행해보기
```
docker run -it -d ubuntu:16.04    
docker run -it -d ubuntu:16.04
docker run -it -d ubuntu:16.04
```

<img width="907" height="175" alt="image" src="https://github.com/user-attachments/assets/b57334e6-4227-492c-be1d-2f96eac47e7e" />


---
### 현재 브릿지 네트워크 상태 확인
```
brctl show    
```

<img width="594" height="81" alt="image" src="https://github.com/user-attachments/assets/5425df66-73c3-42a6-befd-69905297b812" />


---

### 직접 컨테이너에 접속해서 확인하기
```
docker ps
docker exec -it [컨테이너 ID] bash
```

<img width="960" height="95" alt="image" src="https://github.com/user-attachments/assets/f109d0dc-5e20-4baa-ac31-3c32595aa18d" />


---

```
apt update && apt install -y net-tools
route -n
```

<img width="643" height="80" alt="image" src="https://github.com/user-attachments/assets/2fa798ec-c3a0-4940-ba2b-b0e9cf1fc877" />


---
### 전체 컨테이너 기준 Network IP Address 확인
```
docker inspect $(docker ps -q) | grep -e "IPAddress\|Id"    
```

<img width="733" height="211" alt="image" src="https://github.com/user-attachments/assets/c71bba03-2700-4cd3-bbc8-0d6ca097d410" />
